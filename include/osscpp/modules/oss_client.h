/*
 * =============================================================================
 *
 *       Filename:  oss_client.h
 *
 *    Description:  oss client.
 *
 *        Company:  ICT ( Institute Of Computing Technology, CAS )
 *
 * =============================================================================
 */

#ifndef _OSS_CLIENT_H
# error Never include <oss/modules/oss_client.h> directly, use <ossc/client.h> instead.
#endif

#ifndef OSS_CLIENT_H
#define OSS_CLIENT_H

#define _OSS_ABORT_MULTIPART_UPLOAD_REQUEST_H
#include <osscpp/modules/oss_abort_multipart_upload_request.h>
#undef _OSS_ABORT_MULTIPART_UPLOAD_REQUEST_H

#define _OSS_ACCESS_CONTROL_LIST_H
#include <osscpp/modules/oss_access_control_list.h>
#undef _oss_access_control_list_h

#define _OSS_BUCKET_H
#include <osscpp/modules/oss_bucket.h>
#undef _OSS_BUCKET_H

#define _OSS_COMPLETE_MULTIPART_UPLOAD_REQUEST_H
#include <osscpp/modules/oss_complete_multipart_upload_request.h>
#undef _oss_complete_multipart_upload_request_h

#define _OSS_COMPLETE_MULTIPART_UPLOAD_RESULT_H
#include <osscpp/modules/oss_complete_multipart_upload_result.h>
#undef _OSS_COMPLETE_MULTIPART_UPLOAD_RESULT_H

#define _OSS_COPY_OBJECT_REQUEST_H
#include <osscpp/modules/oss_copy_object_request.h>
#undef _OSS_COPY_OBJECT_REQUEST_H

#define _OSS_COPY_OBJECT_RESULT_H
#include <osscpp/modules/oss_copy_object_result.h>
#undef _OSS_COPY_OBJECT_RESULT_H

#define _OSS_DELETE_MULTIPLE_OBJECT_REQUEST_H
#include <osscpp/modules/oss_delete_multiple_object_request.h>
#undef _OSS_DELETE_MULTIPLE_OBJECT_REQUEST_H

#define _OSS_GENERATE_PRESIGNED_URL_REQUEST_H
#include <osscpp/modules/oss_generate_presigned_url_request.h>
#undef _OSS_GENERATE_PRESIGNED_URL_REQUEST_H

#define _OSS_GET_OBJECT_GROUP_INDEX_RESULT_H
#include <osscpp/modules/oss_get_object_group_index_result.h>
#undef _OSS_GET_OBJECT_GROUP_INDEX_RESULT_H

#define _OSS_GET_OBJECT_GROUP_REQUEST_H
#include <osscpp/modules/oss_get_object_group_request.h>
#undef _OSS_GET_OBJECT_GROUP_REQUEST_H

#define _OSS_GET_OBJECT_REQUEST_H
#include <osscpp/modules/oss_get_object_request.h>
#undef _OSS_GET_OBJECT_REQUEST_H

#define _OSS_INITIATE_MULTIPART_UPLOAD_REQUEST_H
#include <osscpp/modules/oss_initiate_multipart_upload_request.h>
#undef _OSS_INITIATE_MULTIPART_UPLOAD_REQUEST_H

#define _OSS_INITIATE_MULTIPART_UPLOAD_RESULT_H
#include <osscpp/modules/oss_initiate_multipart_upload_result.h>
#undef _OSS_INITIATE_MULTIPART_UPLOAD_RESULT_H

#define _OSS_LIST_MULTIPART_UPLOADS_REQUEST_H
#include <osscpp/modules/oss_list_multipart_uploads_request.h>
#undef _OSS_LIST_MULTIPART_UPLOADS_REQUEST_H

#define _OSS_LIST_OBJECTS_REQUEST_H
#include <osscpp/modules/oss_list_objects_request.h>
#undef _OSS_LIST_OBJECTS_REQUEST_H

#define _OSS_LIST_PARTS_REQUEST_H
#include <osscpp/modules/oss_list_parts_request.h>
#undef _OSS_LIST_OBJECTS_REQUEST_H

#define _OSS_MULTIPART_OBJECT_GROUP_H
#include <osscpp/modules/oss_multipart_object_group.h>
#undef _OSS_MULTIPART_OBJECT_GROUP_H

#define _OSS_MULTIPART_UPLOAD_H
#include <osscpp/modules/oss_multipart_upload.h>
#undef _OSS_MULTIPART_UPLOAD_H

#define _OSS_MULTIPART_UPLOAD_LISTING_H
#include <osscpp/modules/oss_multipart_upload_listing.h>
#undef _OSS_MULTIPART_UPLOAD_LISTING_H

#define _OSS_OBJECT_H
#include <osscpp/modules/oss_object.h>
#define _OSS_OBJECT_H

#define _OSS_OBJECT_GROUP_ITEM_H
#include <osscpp/modules/oss_object_group_item.h>
#undef _OSS_OBJECT_GROUP_ITEM_H

#define _OSS_OBJECT_LISTING_H
#include <osscpp/modules/oss_object_listing.h>
#undef _OSS_OBJECT_LISTING_H

#define _OSS_OBJECT_METADATA_H
#include <osscpp/modules/oss_object_metadata.h>
#undef _OSS_OBJECT_METADATA_H

#define _OSS_OBJECT_SUMMARY_H
#include <osscpp/modules/oss_object_summary.h>
#undef _OSS_OBJECT_SUMMARY_H

#define _OSS_OWNER_H
#include <osscpp/modules/oss_owner.h>
#undef _OSS_OWNER_H

#define _OSS_PART_ETAG_H
#include <osscpp/modules/oss_part_etag.h>
#undef _OSS_PART_ETAG_H

#define _OSS_PART_LISTING_H
#include <osscpp/modules/oss_part_listing.h>
#undef _OSS_PART_LISTING_H

#define _OSS_PART_SUMMARY_H
#include <osscpp/modules/oss_part_summary.h>
#undef _OSS_PART_SUMMARY_H

#define _OSS_POST_OBJECT_GROUP_REQUEST_H
#include <osscpp/modules/oss_post_object_group_request.h>
#undef _OSS_POST_OBJECT_GROUP_REQUEST_H

#define _OSS_POST_OBJECT_GROUP_RESULT_H
#include <osscpp/modules/oss_post_object_group_result.h>
#undef _OSS_POST_OBJECT_GROUP_RESULT_H

#define _OSS_PUT_OBJECT_RESULT_H
#include <osscpp/modules/oss_put_object_result.h>
#undef _OSS_PUT_OBJECT_RESULT_H

#define _OSS_RESPONSE_HEADER_OVERRIDES_H
#include <osscpp/modules/oss_response_header_overrides.h>
#undef _OSS_RESPONSE_HEADER_OVERRIDES_H

#define _OSS_UPLOAD_PART_REQUEST_H
#include <osscpp/modules/oss_upload_part_request.h>
#undef _OSS_UPLOAD_PART_REQUEST_H

#define _OSS_UPLOAD_PART_RESULT_H
#include <osscpp/modules/oss_upload_part_result.h>
#undef _OSS_UPLOAD_PART_RESULT_H

#include <osscpp/util/oss_util.h>
#define _OSS_CONSTANTS_H
#include <osscpp/oss_constants.h>
#undef _OSS_CONSTANTS_H

#include <string>

using namespace std;

namespace osscpp {

/**
 * @defgroup Client Client
 * @{
 */

/**
 * struct curl_request_param_s 内部使用 \n
 * curl_request_param_t 开发者使用
 */
typedef struct curl_request_param_s curl_request_param_t;

/**
 * param_buffer_t中buffer的内容
 */
struct param_buffer_s {
	char *ptr;             /**< 缓冲区首指针 */
	FILE *fp;              /**< 文件指针 */
	size_t left;           /** 缓冲区剩余大小 */
	size_t allocated;      /** 缓冲区总大小 */
	unsigned short code;   /**返回码 */
};

/**
 * struct param_buffer_s 内部使用 \n
 * param_buffer_t 开发者使用
 */
typedef struct param_buffer_s param_buffer_t;

/**
 * http请求与接受的buffer总体结构
 */
struct curl_request_param_s {
	param_buffer_t *send_buffer; /**< send buffer */
	param_buffer_t *recv_buffer; /**< receive buffer */
	param_buffer_t *header_buffer; /**< header buffer */
};

/**
 * 访问阿里云开放存储服务（Open Storage Service， OSS）的入口。
 * 阿里云存储服务（Open Storage Service，简称OSS），是阿里云对外提供的海量，
 * 安全，低成本， 高可靠的云存储服务。用户可以通过简单的REST接口，
 * 在任何时间、任何地点上传和下载数据， 也可以使用WEB页面对数据进行管理。
 * 基于OSS，用户可以搭建出各种多媒体分享网站、网盘、个人企业数据备份等
 * 基于大规模数据的服务。 
 */
class Client {

	private :
		string endpoint_;       /**< hostname */
		string access_id_;      /**< 用户的OSS服务用户名 */
		string access_key_;     /**< 用户的OSS服务密码 */

		Client(const Client&);
		void operator=(const Client&);

	public :
		/**
		 * Client 的构造函数
		 * @param access_id [in] 用户的OSS服务用户名
		 * @param access_key [in] 用户的OSS服务密码
		 */
		Client(const string &access_id,
				const string &access_key)
		{
			access_id_ = access_id;
			access_key_ = access_key; 
		}
		
		/**
		 * Client 带endpoint参数的构造函数
		 * @param access_id [in] 用户的OSS服务用户名
		 * @param access_key [in] 用户的OSS服务密码
		 * @param endpoint [in] 标识hostname
		 */
		Client(const string &access_id,
				const string &access_key,
				const string &endpoint)
		{
			access_id_ = access_id;
			access_key_ = access_key;
			endpoint_ = endpoint;
		}
		
		/**
		 * 终止一个 Multipart 上传事件
		 * @param request [in] 标识一个oss_abort_multipart_upload_request的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void
		AbortMultipartUpload(
				AbortMultipartUploadRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 完成一个 Multipart 上传事件
		 * @param request [in] 标识一个oss_complete_multipart_upload_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_complete_multipart_upload_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		CompleteMultipartUploadResult
		CompleteMultipartUpload(
				CompleteMultipartUploadRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 拷贝一个在 OSS 上已经存在的 Object 成另外一个 Object
		 * @param request [in] 标识一个oss_copy_object_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_copy_object_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		CopyObjectResult 
		CopyObject(
				CopyObjectRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 拷贝一个在 OSS 上已经存在的 Object 成另外一个 Object
		 * @param source_bucket_name 被拷贝的Object所在的Bucket的名称
		 * @param source_key 被拷贝的Object的名称
		 * @param destination_bucket_name 目标Object所在的Bucket的名称
		 * @param destination_key 目标Object的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_copy_object_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		CopyObjectResult
		CopyObject(
				const string &source_bucket_name,
				const string &source_key,
				const string &destination_bucket_name,
				const string &destination_key,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 创建 Bucket
		 * @param bucket_name [in] 要创建的Bucket的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void
		CreateBucket(
				const string &bucket_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 删除 Bucket
		 * @param bucket_name [in] 要删除的Bucket的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void 
		DeleteBucket(
				const string &bucket_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 删除指定的 OSSObject
		 * @param bucket_name [in] 要删除Object所在的Bucket的名称
		 * @param key [in] 要删除Object的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void
		DeleteObject(
				const string &bucket_name,
				const string &key,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 删除指定的多个 OSSObject
		 * @param request [in] 删除多个Object请求
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval oss_delete_multiple_object_request_t 对象
		 */
		void 
		DeleteMultipleObject(
				DeleteMultipleObjectRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 生成一个用 HTTP GET 方法访问 OSSObject 的 URL
		 * @param bucket_name [in] 要访问的Object所在的Bucket名称
		 * @param key [in] 要访问的Object的名称
		 * @param expiration [in] 过期时间
		 * @return url字符串
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		const string 
		GeneratePresignedUrl(
				const string &bucket_name,
				const string &key,
				const string &expiration);
		
		/**
		 * 生成一个用指定 HTTP 方法访问 OSSObject 的 URL
		 * @param bucket_name [in] 要访问的Object所在的Bucket名称
		 * @param key [in] 要访问的Object的名称
		 * @param expiration [in] 过期时间
		 * @param method [in] http方法
		 * @return url字符串
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		const string 
		GeneratePresignedUrl(
				const string &bucket_name,
				const string &key,
				const string &expiration,
				const string &method);
		
		/**
		 * 返回给定 Bucket 的 Access Control List(Client *client, ACL)
		 * @param bucket_name [in] 要设置acl的Bucket名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_access_control_list_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		AccessControlList
		GetBucketAcl(
				const string &bucket_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 返回访问的OSS Endpoint
		 * @return 服务器的hostname
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		inline const string 
		GetEndpoint() const 
		{ return endpoint_; }
		
		/**
		 * 从 OSS 指定的 Bucket 中导出 OSSObject
		 * @param request [in] 标识一个oss_get_object_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个Object的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		Object
		GetObject(
				GetObjectRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 从 OSS 指定的 Bucket 中导出指定的 OSSObject 到内存
		 * @param request [in] 标识一个oss_get_object_request_t的对象
		 * @param buffer [in] 要存放Object的内存地址
		 * @param buffer_len [out] buffer的长度
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata
		GetObject(
				GetObjectRequest &request,
				void **buffer,
				unsigned int &buffer_len,
				OSS_ERROR_CODE &retcode);
		/**
		 * 从 OSS 指定的 Bucket 中导出指定的 OSSObject 到目标文件
		 * @param request [in] 标识一个oss_get_object_request_t的对象
		 * @param file_name [in] 要存放Object的文件
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata 
		GetObject(
				GetObjectRequest &request,
				string &file_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 从 OSS 指定的 Bucket 中导出 OSSObject
		 * @param bucket_name [in] 要导出的Object所在的Bucket名称
		 * @param key [in] 要导出的Object名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个Object的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		Object 
		GetObject(
				const string &bucket_name,
				const string &key,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 返回 OSSObject 的元数据
		 * @param bucket_name 要查询的Object所在的Bucket名称
		 * @param key 要查询的Object名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata 
		GetObjectMetadata(
				const string &bucket_name,
				const string &key,
				OSS_ERROR_CODE &retcode);
		/**
		 * 初始化一个 Multipart 上传事件
		 * @param request [in] 标识一个oss_initiate_multipart_upload_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个InitiateMultipartUploadResult的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		InitiateMultipartUploadResult 
		InitiateMultipartUpload(
				InitiateMultipartUploadRequest &request,
				OSS_ERROR_CODE &retcode);
		
		
		/**
		 * 判断给定 Bucket 是否存在
		 * @param bucket_name 要查询的Bucket名称
		 * @return 真或假
		 * @retval true 表示存在
		 * @retval false 表示不存在
		 */
		bool
		IsBucketExist(
				const string &bucket_name);
		
		/**
		 * 返回请求者拥有的所有 Bucket 的列表
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_bucket_t的双重指针，可通过buckets_number来遍历
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		vector<Bucket>
		ListBuckets(OSS_ERROR_CODE &retcode);
		
		/**
		 * 列出所有执行中的 Multipart 上传事件
		 * @param request [in] 标识一个oss_list_multipart_uploads_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_multipart_upload_listing_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		MultipartUploadListing 
		ListMultipartUploads(
				ListMultipartUploadsRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 列出指定 Bucket 下的 OSSObject
		 * @param request [in] 标识一个oss_list_objects_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_object_listing_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectListing
		ListObjects(
				ListObjectsRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 列出指定 Bucket 下的 OSSObject
		 * @param bucket_name 要查询的Bucket的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_object_listing_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectListing
		ListObjects(
				const string &bucket_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 列出指定 Bucket 下 key 以给定 prefix 开头的 OSSObject
		 * @param bucket_name 要查询的Bucket的名称
		 * @param prefix 设置要查询的Object的前缀
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_object_listing_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectListing
		ListObjects(
				const string &bucket_name,
				const string &prefix,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 列出 multipart 中上传的所有 part 信息
		 * @param request [in] 标识一个oss_list_parts_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_part_listing_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		PartListing 
		ListParts(
				ListPartsRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 上传指定的 OSSObject 到 OSS 中指定的 Bucket
		 * @param bucket_name [in] 要上传到的Bucket名称
		 * @param key [in] 要上传到服务器上显示的Object的名称
		 * @param file_name [in] 要上传的文件名称
		 * @param metadata 标识数据的一些元信息，一个ObjectMetadata对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个PutObjectResult对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		PutObjectResult 
		PutObjectFromFile(
				const string &bucket_name,
				const string &key,
				const string &file_name,
				ObjectMetadata &metadata,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 上传指定的 OSSObject 到 OSS 中指定的 Bucket
		 * @param bucket_name [in] 要上传到的Bucket名称
		 * @param key [in] 要上传到服务器上显示的Object的名称
		 * @param buffer [in] 要上传数据的缓存区
		 * @param buffer_len [in] 要上传数据的长度
		 * @param metadata [in] 标识数据的一些元信息，一个ObjectMetadata对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个PutObjectResult对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		PutObjectResult 
		PutObjectFromBuffer(
				const string &bucket_name,
				const string &key,
				void *buffer,
				unsigned int buffer_len,
				ObjectMetadata &metadata,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 设置指定 Bucket 的 Access Control List(Client *client, ACL)
		 * @param bucket_name 要设置权限的Bucket的名称
		 * @param acl 要设置的权限（private, public-read, public-read-write中的一个）
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void
		SetBucketAcl(
				const string &bucket_name,
				const string &acl,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * 上传一个分块（Part）到指定的的 Multipart 上传事件中
		 * @param request [in] 标识一个oss_upload_part_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_upload_part_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		UploadPartResult
		UploadPart(
				UploadPartRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Post Object Group 操作将根据用户提供的 Object 信息,在 OSS 服务器端创建出一个新的 Object Group.\n
		 * 用户需要将创建该 Object Group 所需的 Object Name, E-tag 以及标识该 Object 在整个 Group 中相对位置的 Part ID
		 * 按照规定的 XML 格式发给 OSS, Object 的 E-tag 值可以通过list_object功能获得
		 * @param request [in] 标识一个oss_post_object_group_request_t的对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_post_object_group_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		PostObjectGroupResult 
		PostObjectGroup(
				PostObjectGroupRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Get Object Group To File 操作将读取用户指定的Object Group到本地文件中
		 * @param request [in] 标识一个oss_get_object_group_request_t的对象
		 * @param file_name [in] 本地文件的文件名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata 
		GetObjectGroupToFile(
				GetObjectGroupRequest &request,
				const string &file_name,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Get Object Group To Buffer 操作将读取用户指定的Object Group到Buffer中
		 * @param request [in] 标识一个oss_get_object_group_request_t的对象
		 * @param output [out] Buffer的地址
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata 
		GetObjectGroupToBuffer(
				GetObjectGroupRequest &request,
				string &output,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Get Object Group Index 返回 Object Group 中的 Object List 信息
		 * @param bucket_name [in] Bucket 的名称
		 * @param key [in] Object Group的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个oss_get_object_group_index_result_t的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		GetObjectGroupIndexResult
		GetObjectGroupIndex(
				const string &bucket_name,
				const string &key,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Head Object Group 返回 指定Object Group 的 元信息，不返回文件内容。
		 * @param request [in] 标识一个oss_get_object_group_request_t对象
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @return 返回一个ObjectMetadata的对象
		 * @retval 非空 表示成功
		 * @retval NULL 表示失败
		 */
		ObjectMetadata 
		HeadObjectGroup(
				GetObjectGroupRequest &request,
				OSS_ERROR_CODE &retcode);
		
		/**
		 * Delete Object Group 返回 指定Object Group 的 元信息，不返回文件内容。
		 * @param bucket_name [in] 研删除的Object Group所在的Bucket的名称
		 * @param key [in] 要删除的Object Group的名称
		 * @param retcode [out] 服务器返回的HTTP返回码
		 * @retval void
		 */
		void 
		DeleteObjectGroup(
				const string &bucket_name,
				const string &key,
				OSS_ERROR_CODE &retcode);
		
		
};
}



/**@}*/

#endif // OSS_CLIENT_H
